# Scanshelf Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED
# =============================================================================

# OpenRouter API key for LLM calls (REQUIRED)
# Get your key at: https://openrouter.ai/keys
OPENROUTER_API_KEY=your_openrouter_api_key_here

# =============================================================================
# MODEL TIERS
# =============================================================================
# Choose models by tier: primary (fast/cheap) or expensive (high quality)
# Stages select the tier they need; you control which models to use

# Primary vision model (fast, cheap) - Used by: Correction, Label, OCR metadata
VISION_MODEL_PRIMARY=x-ai/grok-4-fast

# Expensive vision model (high quality) - Reserved for critical tasks
VISION_MODEL_EXPENSIVE=anthropic/claude-3.5-sonnet

# Primary text model (cheap) - For text-only tasks (future structure stages)
TEXT_MODEL_PRIMARY=openai/gpt-4o-mini

# Expensive text model (high quality) - For complex text analysis
TEXT_MODEL_EXPENSIVE=openai/gpt-4o

# Fallback models (comma-separated) - Used if primary model unavailable
# Example: openai/gpt-4o,anthropic/claude-3-sonnet
FALLBACK_MODELS=

# =============================================================================
# CORE SETTINGS
# =============================================================================

# Root directory for all book storage
BOOK_STORAGE_ROOT=~/Documents/book_scans

# Parallel workers for I/O-bound stages (Correction, Label, Merge)
# Higher = faster but more API load. Recommended: 20-50
MAX_WORKERS=30

# OpenRouter rate limit (requests per minute)
# Free tier: 20, Basic: 50, Standard: 150, Premium: 500+
RATE_LIMIT_REQUESTS_PER_MINUTE=150

# =============================================================================
# OPTIONAL (PDF/Image Processing)
# =============================================================================

# DPI for OCR extraction (higher = better quality, slower)
# Recommended: 600 (300 minimum, 1200 maximum)
PDF_EXTRACTION_DPI_OCR=600

# DPI for vision model extraction (lower = faster, cheaper API calls)
# Recommended: 300 (vision models handle lower resolution well)
PDF_EXTRACTION_DPI_VISION=300
