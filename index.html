<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shelf - Scans to structured text</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0a0a;
            color: #ffffff;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .nav {
            padding: 20px 0;
            border-bottom: 1px solid #1a1a1a;
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            color: #ffffff;
            text-decoration: none;
        }

        .github-link {
            background-color: #3b82f6;
            color: #ffffff;
            padding: 10px 20px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        .github-link:hover {
            background-color: #2563eb;
        }

        .hero {
            padding: 80px 0;
            text-align: center;
        }

        .hero h1 {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 40px;
            color: #ffffff;
        }

        .hero-text {
            font-size: 18px;
            line-height: 1.7;
            color: #d1d5db;
            max-width: 800px;
            margin: 0 auto;
            text-align: left;
        }

        .pipeline {
            padding: 80px 0;
            background-color: #111111;
        }

        .pipeline h2 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 30px;
            color: #ffffff;
            text-align: center;
        }

        .pipeline-intro {
            font-size: 18px;
            line-height: 1.7;
            color: #d1d5db;
            max-width: 800px;
            margin: 0 auto 60px;
            text-align: left;
        }

        .pipeline-flow {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .stage {
            background-color: #1a1a1a;
            border: 1px solid #2a2a2a;
            border-radius: 12px;
            padding: 30px;
            transition: border-color 0.2s;
        }

        .stage:hover {
            border-color: #3b82f6;
        }

        .stage-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .stage-icon {
            font-size: 28px;
            margin-right: 15px;
        }

        .stage-title {
            font-size: 20px;
            font-weight: 600;
            color: #ffffff;
        }

        .stage-description {
            color: #d1d5db;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .phases {
            list-style: none;
        }

        .phase {
            margin-bottom: 15px;
            padding-left: 15px;
            border-left: 2px solid #3b82f6;
        }

        .phase:last-child {
            margin-bottom: 0;
        }

        .phase-name {
            font-family: 'JetBrains Mono', monospace;
            font-size: 14px;
            font-weight: 500;
            color: #3b82f6;
            margin-bottom: 5px;
        }

        .phase-description {
            font-size: 14px;
            color: #9ca3af;
            line-height: 1.5;
        }

        .footer {
            padding: 40px 0;
            border-top: 1px solid #1a1a1a;
            text-align: center;
        }

        .footer-text {
            color: #6b7280;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 36px;
            }

            .hero-text {
                font-size: 16px;
            }

            .pipeline h2 {
                font-size: 28px;
            }

            .pipeline-intro {
                font-size: 16px;
            }

            .pipeline-flow {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .stage {
                padding: 20px;
            }

            .nav-content {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <nav class="nav">
        <div class="container">
            <div class="nav-content">
                <a href="#" class="logo">shelf</a>
                <a href="https://github.com/jackzampolin/shelf" class="github-link">GitHub</a>
            </div>
        </div>
    </nav>

    <section class="hero">
        <div class="container">
            <h1>Scans to structured text</h1>
            <div class="hero-text">
                <p>Not every book is available as an audiobook. Military history, academic texts, out-of-print nonfiction‚Äîif you want to listen to them, you have to make them yourself.</p>
                
                <p>Raw OCR gets you text, but text mixed with garbage‚Äîpage numbers read aloud, running headers interrupting every page, image captions scattered through the text, footnote numbers with no footnotes. The result is technically an audiobook, but not one you'd want to listen to.</p>
                
                <p>Getting something close to the quality of a professionally produced Audible audiobook‚Äîwith no user discernible issues‚Äîturns out to be an unsolved problem. Those audiobooks have human editors. Getting that quality with software alone, with little to no human intervention, is the challenge shelf is designed to solve.</p>
            </div>
        </div>
    </section>

    <section class="pipeline">
        <div class="container">
            <h2>AI Pipeline</h2>
            <div class="pipeline-intro">
                <p>Once you have a book scan (either from a sheet-fed scanner after cutting the spine, or a non-destructive overhead scanner), shelf runs it through a multi-stage AI pipeline. Each stage builds on the last: multiple OCR providers extract the text, LLMs classify and label the structure (body text vs headers vs footnotes vs page numbers), the table of contents is extracted and linked to actual pages, and finally clean ePub files are produced‚Äîtext that flows when read aloud.</p>
            </div>
            
            <div class="pipeline-flow">
                <div class="stage">
                    <div class="stage-header">
                        <span class="stage-icon">üì∑</span>
                        <h3 class="stage-title">OCR Pages</h3>
                    </div>
                    <p class="stage-description">Extract text from scanned page images using vision AI models</p>
                    <ul class="phases">
                        <li class="phase">
                            <div class="phase-name">mistral</div>
                            <div class="phase-description">Extract text using Mistral vision model</div>
                        </li>
                        <li class="phase">
                            <div class="phase-name">olm</div>
                            <div class="phase-description">Extract text using OLM OCR model</div>
                        </li>
                        <li class="phase">
                            <div class="phase-name">paddle</div>
                            <div class="phase-description">Extract text using PaddleOCR</div>
                        </li>
                        <li class="phase">
                            <div class="phase-name">blend</div>
                            <div class="phase-description">Combine OCR outputs into best-quality text</div>
                        </li>
                    </ul>
                </div>

                <div class="stage">
                    <div class="stage-header">
                        <span class="stage-icon">üè∑Ô∏è</span>
                        <h3 class="stage-title">Label Structure</h3>
                    </div>
                    <p class="stage-description">Classify content blocks as body text, headers, footnotes, or page numbers</p>
                    <ul class="phases">
                        <li class="phase">
                            <div class="phase-name">mechanical</div>
                            <div class="phase-description">Extract patterns using regex and heuristics</div>
                        </li>
                        <li class="phase">
                            <div class="phase-name">unified</div>
                            <div class="phase-description">Classify page elements with vision LLM</div>
                        </li>
                        <li class="phase">
                            <div class="phase-name">gap_analysis</div>
                            <div class="phase-description">Identify pages with missing or uncertain labels</div>
                        </li>
                        <li class="phase">
                            <div class="phase-name">agent_healing</div>
                            <div class="phase-description">Fix classification gaps using LLM agent</div>
                        </li>
                    </ul>
                </div>

                <div class="stage">
                    <div class="stage-header">
                        <span class="stage-icon">üìë</span>
                        <h3 class="stage-title">Extract ToC</h3>
                    </div>
                    <p class="stage-description">Identify and extract the table of contents from OCR output</p>
                    <ul class="phases">
                        <li class="phase">
                            <div class="phase-name">find</div>
                            <div class="phase-description">Locate ToC pages using vision agent</div>
                        </li>
                        <li class="phase">
                            <div class="phase-name">extract</div>
                            <div class="phase-description">Parse ToC entries from identified pages</div>
                        </li>
                    </ul>
                </div>

                <div class="stage">
                    <div class="stage-header">
                        <span class="stage-icon">üîó</span>
                        <h3 class="stage-title">Link ToC</h3>
                    </div>
                    <p class="stage-description">Map table of contents entries to their corresponding page numbers</p>
                    <ul class="phases">
                        <li class="phase">
                            <div class="phase-name">find_entries</div>
                            <div class="phase-description">Locate each ToC entry in page content</div>
                        </li>
                        <li class="phase">
                            <div class="phase-name">pattern</div>
                            <div class="phase-description">Analyze heading patterns to find candidates</div>
                        </li>
                        <li class="phase">
                            <div class="phase-name">evaluation</div>
                            <div class="phase-description">Evaluate candidate headings with vision LLM</div>
                        </li>
                        <li class="phase">
                            <div class="phase-name">merge</div>
                            <div class="phase-description">Merge results into enriched ToC</div>
                        </li>
                        <li class="phase">
                            <div class="phase-name">validation</div>
                            <div class="phase-description">Validate page coverage and investigate gaps</div>
                        </li>
                    </ul>
                </div>

                <div class="stage">
                    <div class="stage-header">
                        <span class="stage-icon">üèóÔ∏è</span>
                        <h3 class="stage-title">Build Structure</h3>
                    </div>
                    <p class="stage-description">Assemble unified document structure with chapter text and metadata</p>
                    <ul class="phases">
                        <li class="phase">
                            <div class="phase-name">build_structure</div>
                            <div class="phase-description">Build document skeleton from ToC and detected headings</div>
                        </li>
                        <li class="phase">
                            <div class="phase-name">polish_entries</div>
                            <div class="phase-description">Extract and polish chapter text with LLM (parallel)</div>
                        </li>
                        <li class="phase">
                            <div class="phase-name">merge</div>
                            <div class="phase-description">Merge polished entries into final structure.json</div>
                        </li>
                    </ul>
                </div>

                <div class="stage">
                    <div class="stage-header">
                        <span class="stage-icon">üìñ</span>
                        <h3 class="stage-title">Generate Output</h3>
                    </div>
                    <p class="stage-description">Create ePub files, audiobook scripts, or structured API output</p>
                    <ul class="phases">
                        <li class="phase">
                            <div class="phase-name">generate_epub</div>
                            <div class="phase-description">Build and validate ePub 3.0 file</div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <p class="footer-text">shelf ¬© 2024</p>
        </div>
    </footer>
</body>
</html>