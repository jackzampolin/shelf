<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shelf - Scans to structured text</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0a0a;
            color: #ffffff;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Navigation */
        nav {
            padding: 20px 0;
            border-bottom: 1px solid #1a1a1a;
        }
        
        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 24px;
            font-weight: 700;
            color: #3b82f6;
        }
        
        .github-link {
            background-color: #1a1a1a;
            color: #ffffff;
            text-decoration: none;
            padding: 10px 20px;
            border-radius: 6px;
            border: 1px solid #3b82f6;
            transition: all 0.2s;
            font-weight: 500;
        }
        
        .github-link:hover {
            background-color: #3b82f6;
        }
        
        /* Hero Section */
        .hero {
            padding: 80px 0 120px;
            text-align: center;
        }
        
        .hero h1 {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 40px;
            color: #3b82f6;
        }
        
        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            font-size: 18px;
            color: #cccccc;
            text-align: left;
        }
        
        .hero-content p {
            margin-bottom: 20px;
        }
        
        /* Pipeline Section */
        .pipeline {
            padding: 80px 0;
            border-top: 1px solid #1a1a1a;
        }
        
        .section-title {
            font-size: 36px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 40px;
            color: #ffffff;
        }
        
        .pipeline-intro {
            max-width: 800px;
            margin: 0 auto 60px;
            font-size: 18px;
            color: #cccccc;
            text-align: center;
        }
        
        .pipeline-stages {
            display: grid;
            gap: 40px;
        }
        
        .stage {
            background-color: #111111;
            border: 1px solid #1a1a1a;
            border-radius: 12px;
            padding: 30px;
            transition: all 0.3s;
        }
        
        .stage:hover {
            border-color: #3b82f6;
            box-shadow: 0 4px 20px rgba(59, 130, 246, 0.1);
        }
        
        .stage-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .stage-icon {
            font-size: 32px;
        }
        
        .stage-info h3 {
            font-size: 24px;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 5px;
        }
        
        .stage-info p {
            color: #cccccc;
            font-size: 16px;
        }
        
        .stage-phases {
            margin-top: 20px;
        }
        
        .phase {
            background-color: #0a0a0a;
            border: 1px solid #1a1a1a;
            border-radius: 8px;
            padding: 15px 20px;
            margin-bottom: 10px;
        }
        
        .phase:last-child {
            margin-bottom: 0;
        }
        
        .phase-name {
            font-family: 'JetBrains Mono', monospace;
            font-size: 14px;
            font-weight: 500;
            color: #3b82f6;
            margin-bottom: 5px;
        }
        
        .phase-description {
            color: #cccccc;
            font-size: 14px;
        }
        
        /* Pipeline Flow */
        .pipeline-flow {
            margin: 60px 0;
        }
        
        .flow-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .flow-stage {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background-color: #111111;
            border: 1px solid #1a1a1a;
            border-radius: 8px;
            position: relative;
        }
        
        .flow-stage:not(:last-child)::after {
            content: '‚Üì';
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            color: #3b82f6;
            font-size: 20px;
        }
        
        .flow-icon {
            font-size: 24px;
            flex-shrink: 0;
        }
        
        .flow-name {
            font-weight: 600;
            color: #ffffff;
        }
        
        /* Footer */
        footer {
            border-top: 1px solid #1a1a1a;
            padding: 40px 0;
            text-align: center;
            color: #666666;
        }
        
        .footer-content {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }
        
        .footer-logo {
            font-weight: 700;
            color: #3b82f6;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 36px;
            }
            
            .hero-content {
                font-size: 16px;
            }
            
            .pipeline-intro {
                font-size: 16px;
            }
            
            .stage {
                padding: 20px;
            }
            
            .stage-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .stage-info h3 {
                font-size: 20px;
            }
            
            .nav-content {
                flex-direction: column;
                gap: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="container">
            <div class="nav-content">
                <div class="logo">shelf</div>
                <a href="https://github.com/jackzampolin/shelf" class="github-link">GitHub</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Scans to structured text</h1>
            <div class="hero-content">
                <p>Not every book is available as an audiobook. Military history, academic texts, out-of-print nonfiction‚Äîif you want to listen to them, you have to make them yourself.</p>
                
                <p>Raw OCR gets you text, but text mixed with garbage‚Äîpage numbers read aloud, running headers interrupting every page, image captions scattered through the text, footnote numbers with no footnotes. The result is technically an audiobook, but not one you'd want to listen to.</p>
                
                <p>Getting something close to the quality of a professionally produced Audible audiobook‚Äîwith no user discernible issues‚Äîturns out to be an unsolved problem. Those audiobooks have human editors. Getting that quality with software alone, with little to no human intervention, is the challenge shelf is designed to solve.</p>
            </div>
        </div>
    </section>

    <!-- Pipeline Section -->
    <section class="pipeline">
        <div class="container">
            <h2 class="section-title">AI Pipeline</h2>
            <div class="pipeline-intro">
                <p>Once you have a book scan (either from a sheet-fed scanner after cutting the spine, or a non-destructive overhead scanner), shelf runs it through a multi-stage AI pipeline. Each stage builds on the last: multiple OCR providers extract the text, LLMs classify and label the structure (body text vs headers vs footnotes vs page numbers), the table of contents is extracted and linked to actual pages, and finally clean ePub files are produced‚Äîtext that flows when read aloud.</p>
            </div>

            <!-- Pipeline Flow -->
            <div class="pipeline-flow">
                <div class="flow-container">
                    <div class="flow-stage">
                        <div class="flow-icon">üì∑</div>
                        <div class="flow-name">OCR Pages</div>
                    </div>
                    <div class="flow-stage">
                        <div class="flow-icon">üè∑Ô∏è</div>
                        <div class="flow-name">Label Structure</div>
                    </div>
                    <div class="flow-stage">
                        <div class="flow-icon">üìë</div>
                        <div class="flow-name">Extract ToC</div>
                    </div>
                    <div class="flow-stage">
                        <div class="flow-icon">üîó</div>
                        <div class="flow-name">Link ToC</div>
                    </div>
                    <div class="flow-stage">
                        <div class="flow-icon">üèóÔ∏è</div>
                        <div class="flow-name">Build Structure</div>
                    </div>
                    <div class="flow-stage">
                        <div class="flow-icon">üìñ</div>
                        <div class="flow-name">Generate Output</div>
                    </div>
                </div>
            </div>

            <!-- Detailed Stages -->
            <div class="pipeline-stages">
                <div class="stage">
                    <div class="stage-header">
                        <div class="stage-icon">üì∑</div>
                        <div class="stage-info">
                            <h3>OCR Pages</h3>
                            <p>Extract text from scanned page images using vision AI models</p>
                        </div>
                    </div>
                    <div class="stage-phases">
                        <div class="phase">
                            <div class="phase-name">mistral</div>
                            <div class="phase-description">Extract text using Mistral vision model</div>
                        </div>
                        <div class="phase">
                            <div class="phase-name">olm</div>
                            <div class="phase-description">Extract text using OLM OCR model</div>
                        </div>
                        <div class="phase">
                            <div class="phase-name">paddle</div>
                            <div class="phase-description">Extract text using PaddleOCR</div>
                        </div>
                        <div class="phase">
                            <div class="phase-name">blend</div>
                            <div class="phase-description">Combine OCR outputs into best-quality text</div>
                        </div>
                    </div>
                </div>

                <div class="stage">
                    <div class="stage-header">
                        <div class="stage-icon">üè∑Ô∏è</div>
                        <div class="stage-info">
                            <h3>Label Structure</h3>
                            <p>Classify content blocks as body text, headers, footnotes, or page numbers</p>
                        </div>
                    </div>
                    <div class="stage-phases">
                        <div class="phase">
                            <div class="phase-name">mechanical</div>
                            <div class="phase-description">Extract patterns using regex and heuristics</div>
                        </div>
                        <div class="phase">
                            <div class="phase-name">unified</div>
                            <div class="phase-description">Classify page elements with vision LLM</div>
                        </div>
                        <div class="phase">
                            <div class="phase-name">gap_analysis</div>
                            <div class="phase-description">Identify pages with missing or uncertain labels</div>
                        </div>
                        <div class="phase">
                            <div class="phase-name">agent_healing</div>
                            <div class="phase-description">Fix classification gaps using LLM agent</div>
                        </div>
                    </div>
                </div>

                <div class="stage">
                    <div class="stage-header">
                        <div class="stage-icon">üìë</div>
                        <div class="stage-info">
                            <h3>Extract ToC</h3>
                            <p>Identify and extract the table of contents from OCR output</p>
                        </div>
                    </div>
                    <div class="stage-phases">
                        <div class="phase">
                            <div class="phase-name">find</div>
                            <div class="phase-description">Locate ToC pages using vision agent</div>
                        </div>
                        <div class="phase">
                            <div class="phase-name">extract</div>
                            <div class="phase-description">Parse ToC entries from identified pages</div>
                        </div>
                    </div>
                </div>

                <div class="stage">
                    <div class="stage-header">
                        <div class="stage-icon">üîó</div>
                        <div class="stage-info">
                            <h3>Link ToC</h3>
                            <p>Map table of contents entries to their corresponding page numbers</p>
                        </div>
                    </div>
                    <div class="stage-phases">
                        <div class="phase">
                            <div class="phase-name">find_entries</div>
                            <div class="phase-description">Locate each ToC entry in page content</div>
                        </div>
                        <div class="phase">
                            <div class="phase-name">pattern</div>
                            <div class="phase-description">Analyze heading patterns to find candidates</div>
                        </div>
                        <div class="phase">
                            <div class="phase-name">evaluation</div>
                            <div class="phase-description">Evaluate candidate headings with vision LLM</div>
                        </div>
                        <div class="phase">
                            <div class="phase-name">merge</div>
                            <div class="phase-description">Merge results into enriched ToC</div>
                        </div>
                        <div class="phase">
                            <div class="phase-name">validation</div>
                            <div class="phase-description">Validate page coverage and investigate gaps</div>
                        </div>
                    </div>
                </div>

                <div class="stage">
                    <div class="stage-header">
                        <div class="stage-icon">üèóÔ∏è</div>
                        <div class="stage-info">
                            <h3>Build Structure</h3>
                            <p>Assemble unified document structure with chapter text and metadata</p>
                        </div>
                    </div>
                    <div class="stage-phases">
                        <div class="phase">
                            <div class="phase-name">build_structure</div>
                            <div class="phase-description">Build document skeleton from ToC and detected headings</div>
                        </div>
                        <div class="phase">
                            <div class="phase-name">polish_entries</div>
                            <div class="phase-description">Extract and polish chapter text with LLM (parallel)</div>
                        </div>
                        <div class="phase">
                            <div class="phase-name">merge</div>
                            <div class="phase-description">Merge polished entries into final structure.json</div>
                        </div>
                    </div>
                </div>

                <div class="stage">
                    <div class="stage-header">
                        <div class="stage-icon">üìñ</div>
                        <div class="stage-info">
                            <h3>Generate Output</h3>
                            <p>Create ePub files, audiobook scripts, or structured API output</p>
                        </div>
                    </div>
                    <div class="stage-phases">
                        <div class="phase">
                            <div class="phase-name">generate_epub</div>
                            <div class="phase-description">Build and validate ePub 3.0 file</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <span class="footer-logo">shelf</span>
                <span>2024</span>
            </div>
        </div>
    </footer>
</body>
</html>